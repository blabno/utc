<h1>Tests List</h1>
<div class="row">
    <div class="form-group">
        <div class="col-xs-12 col-sm-6">

            <div class="panel panel-default">

                <div class="panel-heading">
                    <label class="sr-only" for="testSearch">Search in tests</label>
                    <input type="text" id="testSearch" class="form-control" ng-model="testList.filter.searchQuery" placeholder="Search..."/>
                </div>

                <div class="panel-body" ng-if="testList.isTestsTableEmpty()">
                    <div class="well text-center">
                        <p>There is no test <strong>"{{ testList.filter.searchQuery }}"</strong>. Would you like to create one?</p>
                        <button class="btn btn-default" ng-click="testList.createTest()">Create test</button>
                    </div>
                </div>

                <table class="table table-striped table-hover" ng-if="!testList.isTestsTableEmpty()">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th class="text-right">Tasks amount</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="test in testList.list" ng-click="testList.selectTest(test.id)" ng-class="{info:testList.isTestSelected(test.id)}">
                        <td>{{ test.title }}</td>
                        <td class="text-right"><span class="badge">{{ test.taskNo }}</span></td>
                    </tr>
                    </tbody>
                </table>

                <pagination class="pull-right" ng-model="testList.currentPage" total-items="testList.resultCount" items-per-page="testList.filter.maxResults"
                            max-size="5" boundary-links="true" previous-text="&laquo;" next-text="&rsaquo;" first-text="&lsaquo;" last-text="&raquo;"
                            ng-show="testList.isPaginationNeeded()" class="pull-right"></pagination>
            </div>
        </div>

        <div class="col-xs-12 col-sm-6" ng-controller="TestDetailsCtrl as testDetails">

            <div class="panel panel-info" ng-if="testDetails.selectedTest">
                <div class="panel-heading">
                    <h3 class="panel-title"><strong>{{ testDetails.selectedTest.title }}</strong></h3>
                </div>

                <div class="panel-body">
                    <p>{{ testDetails.selectedTest.description }}</p>

                    <div class="form-group">
                        <button class="btn btn-danger btn-xs pull-right" ng-click="testDetails.deleteTest(testDetails.selectedTest.id)">
                            <i class="glyphicon glyphicon-warning-sign"></i> Remove test
                        </button>
                        <button class="btn btn-success btn-xs"><i class="glyphicon glyphicon-send"></i> Invite people</button>
                        <button class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-edit"></i> Edit</button>
                    </div>

                </div>

                <div class="panel-heading" ng-if="!testDetails.isTaskOnTest()">

                    <label class="sr-only" for="taskSearch">Task list</label>
                    <input type="text" id="taskSearch" class="form-control input-sm" ng-model="testDetails.filter.searchQuery"
                           placeholder="Search in tasks list below..."/>
                </div>

                <table class="table table-striped table-hover" ng-if="testDetails.taskList">
                    <tr ng-repeat="task in testDetails.taskList">
                        <td>{{ task.id }}</td>
                        <td>{{ task.title }}</td>
                        <td>
                            <button class="btn btn-danger btn-xs pull-right" ng-click="testDetails.removeTaskFromTest(task.id)">
                                <i class="glyphicon glyphicon-remove"></i>
                            </button>
                        </td>
                    </tr>
                </table>

                <div class="panel-footer text-center" ng-if="testDetails.isTaskOnTest()">Test not contain any tasks</div>
            </div>
        </div>
    </div>
</div>
